;	Israel Celis Campagnoli
;	twitter @israelcelis1310
;	https://ve.linkedin.com/in/israelceliscampagnoli
;	Practicas en Assembler Digitales III
;	Universidad Nacional Experimental "Antonio Jóse de Sucre"
;	Vicerectorado "Luis Caballero Mejías"
		.MODEL SMALL
		.STACK 100H         
		.DATA
		FILA DW 00H
		COL  DW 00H
		LET  DB "L"

		.CODE
		MOV AX,@data
		MOV DS,AX
		MOV ES,AX		
		
		CALL MODO


PL:		MOV BX,100
PL1:		MOV CX,100
		MOV FILA,00
		MOV COL,00
		CALL VERTICAL
		MOV CX,100
	       	MOV FILA,100
		MOV COL,00
		CALL HORIZONTAL
		DEC BX
		CMP BX,00
		JNZ PL1
		CALL MODO
		CALL TECLA

PL2:		MOV BX,100
PL21:		MOV CX,100
		MOV FILA,00
		MOV COL,110
		CALL VERTICAL
		MOV CX,100
	       	MOV FILA,100
		MOV COL,110
		CALL HORIZONTAL
		DEC BX
		CMP BX,00
		JNZ PL21
		CALL MODO
		CALL TECLA

PL3:		MOV BX,100
PL31:		MOV CX,100
		MOV FILA,00
		MOV COL,220
		CALL VERTICAL
		MOV CX,100
	       	MOV FILA,100
		MOV COL,220
		CALL HORIZONTAL
		DEC BX
		CMP BX,00
		JNZ PL31
		CALL MODO
		CALL TECLA
	      	JMP PL
		
PT:		MOV BX,100
PT1:		MOV CX,100
		MOV FILA,00
		MOV COL,00
		CALL HORIZONTAL
		MOV CX,100
	       	MOV FILA,00
		MOV COL,50
		CALL VERTICAL
		DEC BX
		CMP BX,00
		JNZ PT1
		CALL MODO
		CALL TECLA

PT2:		MOV BX,100
PT21:		MOV CX,100
		MOV FILA,00
		MOV COL,110
		CALL HORIZONTAL
		MOV CX,100
	       	MOV FILA,00
		MOV COL,160
		CALL VERTICAL
		DEC BX
		CMP BX,00
		JNZ PT21
		CALL MODO
		CALL TECLA

PT3:		MOV BX,100
PT31:		MOV CX,100
		MOV FILA,00
		MOV COL,220
		CALL HORIZONTAL
		MOV CX,100
	       	MOV FILA,00
		MOV COL,270
		CALL VERTICAL
		DEC BX
		CMP BX,00
		JNZ PT31
		CALL MODO
		CALL TECLA
		JMP PT

PI:		MOV BX,100
PI1:		MOV CX,100
		MOV FILA,00
		MOV COL,00
		CALL HORIZONTAL
		MOV CX,100
	       	MOV FILA,00
		MOV COL,50
		CALL VERTICAL
		MOV CX,100
		MOV FILA,100
		MOV COL,00
		CALL HORIZONTAL
		DEC BX
		CMP BX,00
		JNZ PI1
		CALL MODO
		CALL TECLA

PI2:		MOV BX,100
PI21:		MOV CX,100
		MOV FILA,00
		MOV COL,110
		CALL HORIZONTAL
		MOV CX,100
	       	MOV FILA,00
		MOV COL,160
		CALL VERTICAL
		MOV CX,100
		MOV FILA,100
		MOV COL,110
		CALL HORIZONTAL
		DEC BX
		CMP BX,00
		JNZ PI21
		CALL MODO
		CALL TECLA

PI3:		MOV BX,100
PI31:		MOV CX,100
		MOV FILA,00
		MOV COL,220
		CALL HORIZONTAL
		MOV CX,100
	       	MOV FILA,00
		MOV COL,270
		CALL VERTICAL
		MOV CX,100
		MOV FILA,100
		MOV COL,220
		CALL HORIZONTAL
		DEC BX
		CMP BX,00
		JNZ PI31
		CALL MODO
		CALL TECLA
		JMP PI

PCT:		JMP PT
PCL:		JMP PL
PCI:		JMP PI


HORIZONTAL:	
L1:		PUSH CX
		CALL PIXEL 
		INC COL 
		POP CX		 
		LOOP L1
		RET

VERTICAL:	
L2:		PUSH CX
		CALL PIXEL 
		INC FILA 
		POP CX
		LOOP L2
		RET	    

TECLA:	MOV AH,01H
	INT 16H
	JZ S0
	MOV AH,00H
	INT 16H
	CMP AL,LET
	JNE S1
S0:	RET
S1:	MOV LET,AL
	CMP AL,00H
	JE S0
	CMP AL,1BH
	JE FIN
	CMP AL,"T"
	JE PCT
	CMP AL,"L"
	JE PCL
	CMP AL,"I"
	JE PCI
	RET

MODO:	MOV AH,00H
	MOV AL,0DH
	INT 10H
	RET

PIXEL:	MOV AH,0CH
	MOV AL,03H
	MOV BH,00H
	MOV CX,COL
	MOV DX,FILA
	INT 10H
	RET


TST:	MOV AH,0DH
	MOV BH,00H
	MOV CX,COL
	MOV DX,FILA
	INT 10H
	RET


FIN:	MOV AX,4C00H
	INT 21H
	END
