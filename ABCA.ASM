;	Israel Celis Campagnoli
;	twitter @israelcelis1310
;	https://ve.linkedin.com/in/israelceliscampagnoli
;	Practicas en Assembler Digitales III
;	Universidad Nacional Experimental "Antonio Jóse de Sucre"
;	Vicerectorado "Luis Caballero Mejías"

	.MODEL SMALL
	.STACK 100H
	.DATA
	FILA	DW  00H
	COL	DW  00H
	RES	DB  00H

	.CODE
	MOV AX,@DATA
	MOV DS,AX
	MOV AH,00H
	MOV AL,0DH
	INT 10H
	MOV  COL,109
	MOV  FILA,124
	MOV  CX,100
LAZO:   PUSH  CX
	CALL  PIXEL
	INC   COL
	POP   CX
	LOOP  LAZO
	MOV   COL,134
	MOV   FILA,74

LAZO3:	INC  FILA
	DEC  COL
	CALL PIXEL
	INC  FILA
	CALL PIXEL
	CMP  COL,109
	JNE  LAZO3
	MOV   COL,209
	MOV   FILA,124

LAZO2:  DEC  FILA
	DEC  COL
	CALL PIXEL
	INC  RES
	CMP  RES,2
	JNGE LAZO2
	MOV  AL,RES
	SUB  AL,2
	MOV  RES,AL
	DEC  COL
	CALL PIXEL
	CMP  FILA,74
	JNE  LAZO2

	MOV   COL,133
	MOV   FILA,76
	CALL  PRENDE
LAZO4:	INC  FILA
	DEC  COL
	INC  FILA
	CALL PRENDE
	CMP  COL,110
	JNE  LAZO4
	MOV   COL,208
	MOV   FILA,123
	INC  RES
LAZO5:  DEC  FILA
	DEC  COL
	CALL  PRENDE2
	INC  RES
	CMP  RES,2
	JNGE LAZO5
	MOV  AL,RES
	SUB  AL,2
	MOV  RES,AL
	DEC  COL
	CALL  PRENDE2
	CMP  FILA,74
	JNE  LAZO5

	.exit(0)

PRENDE: MOV  AX,COL
	PUSH AX
	MOV  BX,FILA
	PUSH BX
PRENDE1:INC  FILA
	CALL PIXEL2
	CMP  FILA,123
	JNE  PRENDE1
	POP  BX
	MOV  FILA,BX
	POP  AX
	MOV  COL,AX
	RET
PRENDE2: MOV  AX,COL
	PUSH AX
	MOV  BX,FILA
	PUSH BX
PRENDE3:INC  FILA
	CALL PIXEL3
	CMP  FILA,123
	JNE  PRENDE3
	POP  BX
	MOV  FILA,BX
	POP  AX
	MOV  COL,AX
	RET

PREGUNTA: MOV  AH,0DH
	  INT  10H
AQUI3:	  RET

PIXEL:	MOV AH,0CH
	MOV BH,00H
	MOV AL,02H
	MOV DX,FILA
	MOV CX,COL
	INT 10H
	RET
	
PIXEL2:	MOV AH,0CH
	MOV BH,00H
	MOV AL,01H
	MOV DX,FILA
	MOV CX,COL
	INT 10H
	RET
PIXEL3:	MOV AH,0CH
	MOV BH,00H
	MOV AL,06H
	MOV DX,FILA
	MOV CX,COL
	INT 10H
	RET
	MOV AX,4C00H
	INT 21H

	END
